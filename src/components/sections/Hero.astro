---
// Import necessary modules
import Section from "./Section.astro";
import { Image } from "astro:assets";
import 'swiper/css';
import 'swiper/css/navigation';
import 'swiper/css/effect-creative';

import c1 from "../../assets/pics/feature-1.jpg";
import c2 from "../../assets/pics/feature-2.jpg";
import c3 from "../../assets/pics/feature-3.jpg";
import c4 from "../../assets/pics/feature-4.jpg";
---

<Section id="home">
    <div class="relative min-h-[100svh]" id="hero">
        <!-- Background Carousel -->
        <div class="absolute inset-0 w-full h-full">
            <div class="swiper w-full h-full">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <div class="image-dimmer">
                            <img src={c1.src} alt="Feature 1" class="w-full h-full object-cover" />
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="image-dimmer">
                            <img src={c2.src} alt="Feature 2" class="w-full h-full object-cover" />
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="image-dimmer">
                            <img src={c3.src} alt="Feature 3" class="w-full h-full object-cover" />
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="image-dimmer">
                            <img src={c4.src} alt="Feature 4" class="w-full h-full object-cover" />
                        </div>
                    </div>
                </div>
                <!-- Navigation Buttons -->
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
            </div>
        </div>

        <!-- Gradient Overlay -->
        <div class="absolute inset-0 bg-gradient-to-b from-black/70 via-black/65 to-black/70"></div>

        <!-- Content -->
        <div class="relative z-10 flex items-center justify-center min-h-[100svh] px-4 md:px-8 lg:px-12">
            <div class="max-w-4xl text-center text-white">
                <h1 class="text-3xl md:text-6xl font-medium leading-tight md:leading-none mb-4 md:mb-6 text-shadow-lg">
                    ROUTE, RIDE, <br> RECORD, <br> REMINISCE
                </h1>
                <p class="mt-3 md:mt-6 mb-4 md:mb-8 text-xl md:text-2xl font-medium leading-snug md:leading-7 text-shadow-md">
                    Your Ultimate Motorcycling Companion.
                </p>
                <p class="mt-3 md:mt-6 mb-6 md:mb-8 text-base md:text-lg font-normal leading-relaxed md:leading-7 max-w-2xl mx-auto text-shadow-sm px-4 md:px-0">
                    Experience effortless ride planning, dynamic group coordination, and the joy of reliving your adventuresâ€”RideSense simplifies every step of your motorcycle journey.
                </p>
                <div class="flex justify-center mt-6 md:mt-8 px-4">
                    <a href="https://forms.gle/cKZhwtwsHWFWuZMs6" 
                       class="w-full md:w-auto px-6 md:px-8 py-4 md:py-5 bg-[#1557E7] hover:bg-[#4178eb] active:bg-white active:text-[#1557E7] rounded-xl md:rounded-2xl text-center text-white border-[#1557E7] border transition-all duration-300 text-lg md:text-xl font-normal leading-7 shadow-lg hover:shadow-xl">
                        Start Your Journey Today - Join beta testing
                    </a>
                </div>
            </div>
        </div>
    </div>
</Section>

<script>
  import Swiper from 'swiper';
  import { Navigation, EffectCreative, Autoplay } from 'swiper/modules';

  // Initialize Swiper carousel
  if (typeof window !== "undefined") {
    new Swiper('.swiper', {
      modules: [Navigation, EffectCreative, Autoplay],
      slidesPerView: 1,
      loop: true,
      speed: 1500,
      autoplay: {
        delay: 5000,
        disableOnInteraction: false,
      },
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      effect: 'creative',
      creativeEffect: {
        prev: {
          shadow: true,
          translate: ['-20%', 0, -1],
          rotate: [0, 0, -3],
        },
        next: {
          shadow: true,
          translate: ['100%', 0, 0],
          rotate: [0, 0, 3],
        },
      },
      grabCursor: true,
    });
  }
</script>

<style>
  .swiper {
    width: 100%;
    height: 100%;
  }
  
  :root {
    --swiper-theme-color: #ffffff;
    --swiper-navigation-size: 20px;
  }
  
  .swiper-button-next,
  .swiper-button-prev {
    background-color: rgba(255, 255, 255, 0.2);
    padding: 16px;
    border-radius: 50%;
    color: white !important;
    transition: all 0.3s ease;
    opacity: 0;
    backdrop-filter: blur(4px);
  }

  @media (min-width: 768px) {
    .swiper-button-next,
    .swiper-button-prev {
      --swiper-navigation-size: 25px;
      padding: 20px;
    }
  }

  .swiper:hover .swiper-button-next,
  .swiper:hover .swiper-button-prev {
    opacity: 1;
  }
  
  .swiper-button-next:hover,
  .swiper-button-prev:hover {
    background-color: rgba(255, 255, 255, 0.4);
    transform: scale(1.1);
  }

  .image-dimmer {
    position: relative;
    width: 100%;
    height: 100%;
  }

  .image-dimmer::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.4);
  }

  .text-shadow-lg {
    text-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
  }

  .text-shadow-md {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
  }

  .text-shadow-sm {
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
  }

  /* Ensure the images do not get hidden or clipped */
  .swiper-slide img {
    object-fit: cover; /* Ensure images cover the entire space */
    width: 100%;
    height: 100%;
  }

  
</style>
